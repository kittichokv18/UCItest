import streamlit as st
import pandas as pd
from streamlit_lottie import st_lottie
from streamlit_lottie import st_lottie_spinner
import requests

def load_lottieurl(url: str):
    r = requests.get(url)
    if r.status_code != 200:
        return None
    return r.json()

lottie_url_hello = "https://lottie.host/5f174efb-996c-4ab3-b3b4-dabd62c36e93/E345fQhWEP.json"
lottie_hello = load_lottieurl(lottie_url_hello)


#‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏≤‡∏ô lottie file
st_lottie(lottie_hello, key="hello")
st.balloons()

html_1 = """
<div style="background-color:#52BE80;padding:15px;border-radius:15px 15px 15px 15px;border-style:'solid';border-color:black">
<center><h5>‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏î‡∏≠‡∏Å‡πÑ‡∏°‡πâ</h5></center>
</div>
"""
st.markdown(html_1, unsafe_allow_html=True)
st.markdown("")


st.page_link("home.py", label="‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å", icon="üè†")
st.page_link("pages/statistic.py", label="‡∏Å‡∏≤‡∏£‡∏ô‡∏≥‡πÄ‡∏™‡∏ô‡∏≠‡∏Ç‡πâ‡∏≠‡∏°‡∏•‡∏î‡πâ‡∏ß‡∏¢‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥", icon="1Ô∏è‚É£")
st.page_link("pages/chart.py", label="‡∏Å‡∏≤‡∏£‡∏ô‡∏≥‡πÄ‡∏™‡∏ô‡∏≠‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏≤‡∏£‡∏à‡∏¥‡∏ô‡∏ï‡∏ó‡∏±‡∏®", icon="2Ô∏è‚É£", disabled=False)
st.page_link("http://www.google.com", label="Google", icon="üåé")

dt = pd.read_csv('data/Dry_Bean_Dataset.csv')

st.subheader("‡∏ä‡∏∏‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ñ‡∏±‡πà‡∏ß‡πÅ‡∏´‡πâ‡∏á")
st.write(dt.head(10))

st.subheader("max")
st.write('‡∏Ñ‡πà‡∏≤‡∏°‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î')
max_values = dt.drop('Class', axis=1).max()

# ‡∏™‡∏£‡πâ‡∏≤‡∏á DataFrame ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡πà‡∏≤‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î
max_df = pd.DataFrame({"Column": max_values.index, "Max Value": max_values.values})

# ‡πÅ‡∏™‡∏î‡∏á‡∏ï‡∏≤‡∏£‡∏≤‡∏á
st.subheader("‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡πà‡∏≤‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î‡∏Ç‡∏≠‡∏á‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå")
st.dataframe(max_df)

max_solidity_row = dt.loc[dt['Solidity'].idxmax()]
st.subheader("‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏°‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡∏Ç‡∏≠‡∏á Solidity")
st.write("‡∏Ñ‡πà‡∏≤ Solidity ‡∏°‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î:", max_solidity_row['Solidity'])
st.write("‡∏Ñ‡∏•‡∏≤‡∏™:", max_solidity_row['Class'])

max_AspectRation_row = dt.loc[dt['AspectRation'].idxmax()]
st.subheader("‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏°‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡∏Ç‡∏≠‡∏á AspectRation")
st.write("‡∏Ñ‡πà‡∏≤ AspectRation ‡∏°‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î:", max_AspectRation_row['AspectRation'])
st.write("‡∏Ñ‡∏•‡∏≤‡∏™:", max_AspectRation_row['Class'])